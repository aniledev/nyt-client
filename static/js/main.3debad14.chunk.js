(this["webpackJsonpnyt-client"]=this["webpackJsonpnyt-client"]||[]).push([[0],{17:function(t,e,s){"use strict";s.r(e);var r=s(0),n=s(1),c=s.n(n),a=s(5),o=s.n(a),i=(s(4),s(3)),h=s(6),l=s(7),u=s(10),b=s(9),j=s(8),d=s.n(j);function O(t){return Object(r.jsxs)("div",{className:"Book",children:[Object(r.jsx)("h2",{children:t.title}),Object(r.jsxs)("div",{className:"book_author",children:["by ",t.author]}),Object(r.jsxs)("div",{className:"book_publisher",children:["Published by: ",t.publisher,"on ",d()(t.published_date).format("DD MMM YYYY")]}),Object(r.jsx)("div",{className:"book_description",children:t.description}),Object(r.jsxs)("div",{className:"book_details",children:["Rank ",t.rank," this week"]})]})}var p=function(t){Object(u.a)(s,t);var e=Object(b.a)(s);function s(t){var r;return Object(h.a)(this,s),(r=e.call(this,t)).state={books:[],search:"",sort:"",error:null},r}return Object(l.a)(s,[{key:"setSearch",value:function(t){this.setState({search:t})}},{key:"setSort",value:function(t){this.setState({sort:t})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var s=[];this.state.search&&s.push("search=".concat(this.state.search)),this.state.sort&&s.push("sort=".concat(this.state.sort));var r=s.join("&"),n="".concat("http://localhost:8000/books","?").concat(r);fetch(n).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){e.setState({books:t,error:null})})).catch((function(t){e.setState({error:"Sorry, could not get books at this time."})}))}},{key:"render",value:function(){var t=this,e=this.state.books.map((function(t,e){return Object(n.createElement)(O,Object(i.a)(Object(i.a)({},t),{},{key:e}))}));return Object(r.jsxs)("main",{className:"App",children:[Object(r.jsx)("h1",{children:"NYT Best Sellers"}),Object(r.jsxs)("div",{className:"search",children:[Object(r.jsxs)("form",{onSubmit:function(e){return t.handleSubmit(e)},children:[Object(r.jsx)("label",{htmlFor:"search",children:"Search: "}),Object(r.jsx)("input",{type:"text",id:"search",name:"search",value:this.state.search,onChange:function(e){return t.setSearch(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"sort",children:"Sort: "}),Object(r.jsxs)("select",{id:"sort",name:"sort",onChange:function(e){return t.setSort(e.target.value)},children:[Object(r.jsx)("option",{value:"",children:"None"}),Object(r.jsx)("option",{value:"title",children:"Title"}),Object(r.jsx)("option",{value:"rank",children:"Rank"})]}),Object(r.jsx)("button",{type:"submit",children:"Search"})]}),Object(r.jsx)("div",{className:"App_error",children:this.state.error})]}),e]})}}]),s}(n.Component);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))},4:function(t,e,s){}},[[17,1,2]]]);
//# sourceMappingURL=main.3debad14.chunk.js.map