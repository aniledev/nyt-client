{"version":3,"sources":["Components/Book.js","Components/App.js","index.js"],"names":["Book","props","className","title","author","publisher","moment","published_date","format","description","rank","App","state","books","search","sort","error","this","setState","e","preventDefault","params","push","query","join","url","fetch","then","res","ok","Error","statusText","json","data","catch","err","map","book","i","key","onSubmit","handleSubmit","htmlFor","type","id","name","value","onChange","setSearch","target","setSort","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NAKe,SAASA,EAAKC,GAC3B,OACE,sBAAKC,UAAU,OAAf,UACE,6BAAKD,EAAME,QACX,sBAAKD,UAAU,cAAf,gBAAiCD,EAAMG,UACvC,sBAAKF,UAAU,iBAAf,2BACiBD,EAAMI,UADvB,MAEMC,IAAOL,EAAMM,gBAAgBC,OAAO,kBAE1C,qBAAKN,UAAU,mBAAf,SAAmCD,EAAMQ,cACzC,sBAAKP,UAAU,eAAf,kBAAoCD,EAAMS,KAA1C,mB,ICTeC,E,kDAEnB,WAAYV,GAAQ,IAAD,8BACjB,cAAMA,IACDW,MAAQ,CACXC,MAAO,GACPC,OAAQ,GACRC,KAAM,GACNC,MAAO,MANQ,E,sDAWTF,GACRG,KAAKC,SAAS,CACZJ,a,8BAIIC,GACNE,KAAKC,SAAS,CACZH,W,mCAISI,GAAI,IAAD,OAEdA,EAAEC,iBAGF,IAGMC,EAAS,GACXJ,KAAKL,MAAME,QACbO,EAAOC,KAAP,iBAAsBL,KAAKL,MAAME,SAE/BG,KAAKL,MAAMG,MACbM,EAAOC,KAAP,eAAoBL,KAAKL,MAAMG,OAEjC,IAAMQ,EAAQF,EAAOG,KAAK,KACpBC,EAAG,UAXO,8BAWP,YAAiBF,GAG1BG,MAAMD,GACHE,MAAK,SAACC,GACL,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,YAEtB,OAAOH,EAAII,UAGZL,MAAK,SAACM,GACL,EAAKf,SAAS,CACZL,MAAOoB,EACPjB,MAAO,UAIVkB,OAAM,SAACC,GACN,EAAKjB,SAAS,CACZF,MAAO,kD,+BAKL,IAAD,OAEDH,EAAQI,KAAKL,MAAMC,MAAMuB,KAAI,SAACC,EAAMC,GACxC,OAAO,wBAACtC,EAAD,2BAAUqC,GAAV,IAAgBE,IAAKD,QAG9B,OACE,uBAAMpC,UAAU,MAAhB,UACE,kDACA,sBAAKA,UAAU,SAAf,UACE,uBAAMsC,SAAU,SAACrB,GAAD,OAAO,EAAKsB,aAAatB,IAAzC,UAEE,uBAAOuB,QAAQ,SAAf,sBACA,uBACEC,KAAK,OACLC,GAAG,SACHC,KAAK,SACLC,MAAO7B,KAAKL,MAAME,OAElBiC,SAAU,SAAC5B,GAAD,OAAO,EAAK6B,UAAU7B,EAAE8B,OAAOH,UAE3C,uBAAOJ,QAAQ,OAAf,oBACA,yBACEE,GAAG,OACHC,KAAK,OAELE,SAAU,SAAC5B,GAAD,OAAO,EAAK+B,QAAQ/B,EAAE8B,OAAOH,QAJzC,UAME,wBAAQA,MAAM,GAAd,kBACA,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,OAAd,qBAEF,wBAAQH,KAAK,SAAb,uBAGF,qBAAKzC,UAAU,YAAf,SAA4Be,KAAKL,MAAMI,WAExCH,S,GAvGwBsC,aCDjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.3debad14.chunk.js","sourcesContent":["import React from \"react\";\nimport moment from \"moment\";\n\n// this component will display the details of a book so this can be a plain function component\n\nexport default function Book(props) {\n  return (\n    <div className=\"Book\">\n      <h2>{props.title}</h2>\n      <div className=\"book_author\">by {props.author}</div>\n      <div className=\"book_publisher\">\n        Published by: {props.publisher}\n        on {moment(props.published_date).format(\"DD MMM YYYY\")}\n      </div>\n      <div className=\"book_description\">{props.description}</div>\n      <div className=\"book_details\">Rank {props.rank} this week</div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport Book from \"./Book\";\n\n// this function will contain a form to capture user input\n\nexport default class App extends Component {\n  // set up initial state in the constructor\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      search: \"\",\n      sort: \"\",\n      error: null,\n    };\n  }\n\n  // create methods to update the state\n  setSearch(search) {\n    this.setState({\n      search,\n    });\n  }\n\n  setSort(sort) {\n    this.setState({\n      sort,\n    });\n  }\n\n  handleSubmit(e) {\n    // prevent default action of form submission\n    e.preventDefault();\n\n    //construct a URL with the query string\n    const baseUrl = \"http://localhost:8000/books\";\n\n    // construct the query parameters in the form search=title&sort=title\n    const params = [];\n    if (this.state.search) {\n      params.push(`search=${this.state.search}`);\n    }\n    if (this.state.sort) {\n      params.push(`sort=${this.state.sort}`);\n    }\n    const query = params.join(\"&\");\n    const url = `${baseUrl}?${query}`;\n\n    // simple GET request using the fetch method\n    fetch(url)\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json();\n      })\n      // set state with the new data is that is the response\n      .then((data) => {\n        this.setState({\n          books: data,\n          error: null, //reset errors\n        });\n      })\n      // if there is an error, catch it and set state with the error\n      .catch((err) => {\n        this.setState({\n          error: \"Sorry, could not get books at this time.\",\n        });\n      });\n  }\n\n  render() {\n    //map over all the books\n    const books = this.state.books.map((book, i) => {\n      return <Book {...book} key={i} />; // what is the spread operator doing here?????\n    });\n\n    return (\n      <main className=\"App\">\n        <h1>NYT Best Sellers</h1>\n        <div className=\"search\">\n          <form onSubmit={(e) => this.handleSubmit(e)}>\n            {/* on submit of the form call the handleSubmit function*/}\n            <label htmlFor=\"search\">Search: </label>\n            <input\n              type=\"text\"\n              id=\"search\"\n              name=\"search\"\n              value={this.state.search}\n              // on change of the input box call the setSearch function with a parameter of the selected value\n              onChange={(e) => this.setSearch(e.target.value)}\n            />\n            <label htmlFor=\"sort\">Sort: </label>\n            <select\n              id=\"sort\"\n              name=\"sort\"\n              // on chnage of the select call the setSort function with a parameter of the selected value\n              onChange={(e) => this.setSort(e.target.value)}\n            >\n              <option value=\"\">None</option>\n              <option value=\"title\">Title</option>\n              <option value=\"rank\">Rank</option>\n            </select>\n            <button type=\"submit\">Search</button>\n          </form>\n          {/* if an error occurs, render it here */}\n          <div className=\"App_error\">{this.state.error}</div>\n        </div>\n        {books}\n      </main>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Styles/App.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}